# Dolsoe (돌쇠) AI 에이전트 프레임워크

## 1. 개요

'Dolsoe(돌쇠)'는 다양한 AI 에이전트(Gemini, Claude 등)를 특정 역할(Role Player, RP)에 따라 일관된 규칙과 메모리 시스템 하에서 작동시키기 위한 프레임워크입니다.

이 프레임워크는 AI 에이전트와의 상호작용을 체계적으로 관리하고, 프로젝트별 요구사항에 맞춰 에이전트의 행동을 제어하며, 모든 지시와 변경 사항을 추적하는 것을 목표로 합니다.

## 2. 핵심 개념

- **`AGENT.md` ({MASTER})**: 프로젝트의 대원칙을 정의하는 마스터 규칙 파일입니다. 모든 AI 에이전트는 이 규칙을 최우선으로 따릅니다.
- **`ai-agent/` ({RPD})**: 각 역할(Role Player, RP)의 정의와 관련 파일을 저장하는 디렉토리입니다.
- **`{RP}.md`**: 코드 리뷰어, QA, 문서 작성자 등 특정 역할의 세부 지침과 규칙을 정의하는 파일입니다.
- **`user-instructions/`**: 사용자가 AI 에이전트에게 내린 지시({커맨드})와 승인 로그를 기록하는 폴더입니다. 이를 통해 에이전트의 작업 이력을 추적하고, 규칙을 업데이트하는 기반으로 삼습니다.
- **`conflict-{YYYYMMDD}`**: 마스터 규칙과 역할별 규칙이 충돌할 경우, 그 내용과 사유를 기록하는 파일입니다.

## 3. 디렉토리 구조

```
{PROJECT_ROOT}/
├── AGENT.md              # 마스터 규칙 파일
└── ai-agent/             # 역할(RP) 관리 디렉토리
    ├── {ROLE_NAME}/      # 개별 역할 폴더 (예: reviewer, qa)
    │   └── {ROLE_NAME}.md# 해당 역할의 세부 지침
    ├── user-instructions/  # 사용자 지시 및 승인 로그
    │   ├── {role_player_name}_{YYYYMMDD}.md
    │   └── approval-log_{YYYYMMDD}.md
    ├── sessions/           # AI 에이전트 세션 로그
    └── conflict-{YYYYMMDD} # 규칙 충돌 기록
```

## 4. 작동 방식

1.  **규칙 정의**: `AGENT.md`에 프로젝트 전체에 적용될 대원칙을 정의합니다.
2.  **역할 부여**: `ai-agent/{ROLE_NAME}/` 디렉토리에 `{ROLE_NAME}.md` 파일을 생성하여 AI 에이전트에게 부여할 특정 역할의 규칙을 상세히 기술합니다.
3.  **명령 및 기록**: 사용자는 AI 에이전트에게 특정 작업을 지시합니다. 이 지시는 `user-instructions` 폴더에 자동으로 기록됩니다.
4.  **규칙 업데이트**: 기록된 지시사항은 AI 에이전트가 다음 세션에서 자신의 역할 규칙(`{RP}.md`)을 업데이트하는 데 사용됩니다.
5.  **충돌 해결**: 만약 `AGENT.md`의 내용과 `{RP}.md`의 내용이 충돌하면, `AGENT.md`가 우선권을 가지며, 충돌 내용은 `conflict` 파일에 기록됩니다.
